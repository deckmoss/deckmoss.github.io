<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,maximum-scale=5" name=viewport><meta content=strict-origin-when-cross-origin name=referrer><meta content="default-src 'none'; font-src 'self' data:; img-src 'self'    ; script-src 'self' ; manifest-src 'self'; style-src 'self' 'sha512-qeVqkvUmVhBh2kLiKcPUVG6foTapQ4EbQg8OlORFGbbZ2NTCmsqLVFZ3tUHciHbSX51HaPlOTyU1vmOYR1Rckg==' 'sha512-sKMPvRXUp+YB1ax6LVwVIhc9uSglfPg7BUm6EdAC+1dXVMEa5OvqIHnHLCiFJGTi78TOI0q6AHTpZEYW3h/3ig==' ; media-src 'self'; frame-src 'self' https://player.vimeo.com/ https://www.youtube.com/ https://www.youtube-nocookie.com/ ; object-src 'none'; base-uri 'self'; form-action 'self'; connect-src 'self' " http-equiv=Content-Security-Policy><meta content=index,follow name=robots><meta content=#2C2D32 name=theme-color><link href=/manifest.json rel=manifest><title>How to unchain inodes on NixOS, while getting rid of orphaned packages [Part 1] • Portfolio</title><meta content="Prismatic Arbiter" name=author><meta content="1. Checking inode consumption on different parition types" name=description><meta content=Linux,PartitionTypes name=keywords><link title="Portfolio Atom Feed" href=https://deckmoss.github.io/atom.xml rel=alternate type=application/atom+xml><meta content=en_US property=og:locale><meta content=article property=og:type><meta content="How to unchain inodes on NixOS, while getting rid of orphaned packages [Part 1]" property=og:title><meta content="1. Checking inode consumption on different parition types" property=og:description><meta content=https://deckmoss.github.io/posts/checking_inodes/ property=og:url><meta content=Portfolio property=og:site_name><link href=https://deckmoss.github.io/posts/checking_inodes/ rel=canonical><meta content=/posts/checking_inodes/urban.gif property=og:image><meta content=/posts/checking_inodes/urban.gif name=twitter:card><meta content=/posts/checking_inodes/urban.gif name=twitter:image><meta content="How to unchain inodes on NixOS, while getting rid of orphaned packages [Part 1]" name=twitter:title><meta content="1. Checking inode consumption on different parition types" name=twitter:description><meta content=320 name=MobileOptimized><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content="width=device-width,initial-scale=1.0,maximum-scale=5" name=viewport><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href="/favicon-32x32.png?v=5e23bffe691055b88067cbc8d11b96ce2a8dc5e25e49367803766a3cadbcfc7f05a62079bfa558d5e234c6a7455d21fc2960b196bda5cbd591bd4c2dbe67920d" rel=icon sizes=32x32 type=image/png><link href="/favicon-16x16.png?v=7267c6f502a03c1e4df9d8136dcc6cd9e67e0b9644941d22ed34e4fe747580f95a65f77a183bb967c1ec60eecd0c298b2670d89a67a647391fb7d1501bcf0982" rel=icon sizes=16x16 type=image/png><link href="/unstyle.css?v=b14bd48a2efbd463d973763aa3184c69aa02164c0891acacc9eab49ddd275f98f0050b4c31d2093e4671e7abe04f9459a041f0064384a90d97b8ff21b6824825" rel=stylesheet><link href="/main.css?v=035c4865d1f515169c8b36da92e079b9ae74ddf1a6f1fd6cb0932ea02e0fd6fc10617741af8c5420ea1729e16cb81d6e2329758911eeab993c07235f0c3340ac" rel=stylesheet><link href="/langs.css?v=12474958ee314a9fde4704e1f5a032dc632d41f9461faca326ac284297766c4ceb07b45fec7fbc09fa72b0f21dcc64f0c31e64fc2e5e838b1d30f5fe540afd78" rel=stylesheet><link href="/syntax-theme-light.css?v=cd0c50d55d1963aecfc6f7e98bd1f1add862f0acf7dcc54e3df250d25b2a00cc889155817be05ede71357dbdea9aa7ffd9bfba216da84fea092119d58a460936" media="(prefers-color-scheme: light)" rel=stylesheet><link href="/syntax-theme-dark.css?v=dfede4879841e4a58e5fc71115aa5f5b82e206d85eb771ff4e5a40a1d82621570aad2458f637365ae4370d9a1cf5070edc9765f7c2d4506e12e2ba3c6081ffd5" media="(prefers-color-scheme: dark)" rel=stylesheet><link href="/sw-style.css?v=a0fa1e87fa2bb3e03d18cefc81ef5c8cfa58c6aa6eea0af223fa155e088bc5af22d32d3ee785ebd3fc26b4c49b70f0bd423f7d592a419a24e6d1e2cb720b7e05" rel=stylesheet><style>#posts.inner-post-page .block-left{background:linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)),url("/posts/checking_inodes/urban.gif?v=8739ae0f6bd312a256096887df821ac340473f1e7f82bf7dad03f42e7482df11d999510c0d5f914e1d7803ee98ab1243141857e2c9664e0eb33cffc4dce89788") no-repeat;background-size:cover}</style><style>#posts .block-left{background:linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)),url("/bk-prk.png?v=b00246fb5faeab35a588f347224b00d53083a9d5f4ae8cd87c0c2e0432bf7f348c6a6ab6f4e4edaf5ddbf13ee34b24946dd0af4cd7db6f4f334599f38917ac9e") no-repeat;background-size:cover,cover}.block-left{background:linear-gradient(rgba(44,45,51,0.9),rgba(44,45,51,0.9)),url("/c1tyh4ll.png?v=e6bb8cdead47e48c0deba1e0a3016070984b5f7271166a72638f9ec5a6ef2d2eb8012e8e4cb64f4f3b6574c6d708bf2ae660d04b8b59a6de675ce4d4d62dd4c3") no-repeat;background-size:cover}</style><body class=inner-post-page id=posts><div class=block-left><div class=content><a class=logo href=/><img src="/icon-192x192.png?v=3820c1b1e6d755d2b7c2a04a65f0f1feef793b297f7ee995947137ccd8f73ec304457f6ce1df987a9a0a13ed7dacd203225505b832ccd2318b530ae53a55cebc" alt=logo height=64 width=64></a><div class=post-title-section><h1 class=section-title>How to unchain inodes on NixOS, while getting rid of orphaned packages [Part 1]</h1><ul class=tags><li><a href=/tags/linux/>Linux</a><li><a href=/tags/partition-types/>Partition Types</a></ul></div></div></div><div class=block-right><div id=nav-container><nav class=nav-bar role=navigation><ul class=nav-menu><li><a href=/>Home</a><li class=nav-active><a aria-haspopup=true href=/posts/>Posts</a> <ul aria-label=submenu class=dropdown><li><a href=/posts/>Index</a><li><a href=/tags/>Tags</a><li><a href=/categories/>Categories</a></ul><li><a href=/projects/>Code</a></ul></nav><script src="/elasticlunr.min.js?v=b9be63b71422cbfde9f14310b397d9a7092f2946bffec11811a831398ace978c1c592e9a578f1fa32041e6c0dde68657fe58d3c30b0eaa758c63c5fd45117336" defer></script><script integrity="sha512-ub6iGfrBOBOxmpNdlB/4CwGdlYCXb2birPYg8xhNSZ6Jy+EuIWAkxBvKca9BXALNOGorKsuz+aG/4c0UAu20Zw==" , defer src=/search.js></script><nav class=search-container id=search-nav><input aria-label=Search id=search placeholder=Search type=search><div class=search-results><div class=search-results__items></div></div></nav></div><div class="inner-post content"><div class=date-highlight>12 Jul 2025</div><h1>1. Checking inode consumption on different parition types</h1><div class=post-info><div class=post-ext-info><p>4 minutes reading time<p>Updated 15 Jul 2025</div></div><div class=toc-block><ul><li><a class="toc-anchor toc" href=https://deckmoss.github.io/posts/checking_inodes/#Related_Articels>Related Articels</a><li><a class="toc-anchor toc" href=https://deckmoss.github.io/posts/checking_inodes/#A_Examining_disk_usage_and_inode_consumption_statistics_on_btrfs,_ext4_and_xfs>A Examining disk usage and inode consumption statistics on btrfs, ext4 and xfs</a><li><a class="toc-anchor toc" href=https://deckmoss.github.io/posts/checking_inodes/#B_Checking_out_the_inode_consumption_with_df_-i>B Checking out the inode consumption with df -i</a><li><a class="toc-anchor toc" href=https://deckmoss.github.io/posts/checking_inodes/#C_Choosing_the_correct_inode_measurement_tool_depending_on_the_filesystem_format>C Choosing the correct inode measurement tool depending on the filesystem format</a><li><a class="toc-anchor toc" href=https://deckmoss.github.io/posts/checking_inodes/#D_Comparison_of_btrfs,_ext4_and_xfs>D Comparison of btrfs, ext4 and xfs</a></ul></div><h2 id=Related_Articels><a aria-label="Anchor link for: Related_Articels" class=zola-anchor href=#Related_Articels>#</a>Related Articels</h2><p><a class="btn btn_info" href=/posts/degarbage_nixos width=100%>[ 0. main article ]</a><p><a class="btn btn_success" href=/posts/nixos-garbage-collector>[ 2. running garbage-collector ]</a><h2 id=A_Examining_disk_usage_and_inode_consumption_statistics_on_btrfs,_ext4_and_xfs><a aria-label="Anchor link for: A_Examining_disk_usage_and_inode_consumption_statistics_on_btrfs,_ext4_and_xfs" class=zola-anchor href=#A_Examining_disk_usage_and_inode_consumption_statistics_on_btrfs,_ext4_and_xfs>#</a>A Examining disk usage and inode consumption statistics on <code>btrfs</code>, <code>ext4</code> and <code>xfs</code></h2><p>To put an emphasize on slightly differences between some random filesystem types i was able to examine.<h3 id=[🧩]_A.1_Check_Disk_Usage><a aria-label="Anchor link for: [🧩]_A.1_Check_Disk_Usage" class=zola-anchor href=#[🧩]_A.1_Check_Disk_Usage>#</a>[🧩] A.1 Check Disk Usage</h3><p>Let us begin with printing the disk usage with the <abbr title="disk free">df</abbr> tool out, to rule this out.<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">df</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>h</span></span>
</span></code></pre><pre class=z-code><code><span class="z-text z-plain">Filesystem      Size  Used Avail Use% Mounted on
</span><span class="z-text z-plain">devtmpfs        1,6G     0  1,6G   0% /dev
</span><span class="z-text z-plain">tmpfs            16G   63M   16G   1% /dev/shm
</span><span class="z-text z-plain">tmpfs           7,7G  7,1M  7,7G   1% /run
</span><span class="z-text z-plain">/dev/dm-1       457G  266G  185G  60% /
</span><span class="z-text z-plain">efivarfs        128K   41K   83K  33% /sys/firmware/efi/efivars
</span><span class="z-text z-plain">tmpfs           1,0M     0  1,0M   0% /run/credentials/systemd-journald.service
</span><span class="z-text z-plain">tmpfs           1,0M     0  1,0M   0% /run/credentials/systemd-tmpfiles-setup-dev-early.service
</span><span class="z-text z-plain">tmpfs           1,0M     0  1,0M   0% /run/credentials/systemd-tmpfiles-setup-dev.service
</span><span class="z-text z-plain">tmpfs            16G  2,0M   16G   1% /run/wrappers
</span><span class="z-text z-plain">tmpfs           1,0M     0  1,0M   0% /run/credentials/systemd-vconsole-setup.service
</span><span class="z-text z-plain">/dev/nvme0n1p3  4,3G   87M  4,2G   2% /boot
</span><span class="z-text z-plain">tmpfs           1,0M     0  1,0M   0% /run/credentials/systemd-tmpfiles-setup.service
</span><span class="z-text z-plain">/dev/sda4       458G  351G   84G  81% /mnt/ssd
</span><span class="z-text z-plain">/dev/sdb3       873G  733G   96G  89% /mnt/hdd
</span><span class="z-text z-plain">tmpfs           1,0M     0  1,0M   0% /run/credentials/systemd-sysctl.service
</span><span class="z-text z-plain">tmpfs           3,1G  200K  3,1G   1% /run/user/1000
</span></code></pre><p class=notice_success>✅ 40% of <abbr title="the line where / is in the row of 'Mounted on'">system root directory</abbr> are free and theres also no sub-partition mounted in root besides boot and tempfs. Therefore the "no space left" error was not caused by a lack of overall disk space.</p><br><p class=notice>If you simply don't have disk space left, because you have also forgotten to declare garbage collection cycles, you could do this now manually by continuing from <a href>here.</a> Otherwise wipe some gigabites and consider to extend your partition.</p><br><br><h2 id=B_Checking_out_the_inode_consumption_with_df_-i><a aria-label="Anchor link for: B_Checking_out_the_inode_consumption_with_df_-i" class=zola-anchor href=#B_Checking_out_the_inode_consumption_with_df_-i>#</a>B Checking out the inode consumption with <abbr title="disk free -inodes">df -i</abbr></h2><h3 id="[🧩]_B.1_Optional:_btrfs_(won't_work)"><a aria-label="Anchor link for: [🧩]_B.1_Optional:_btrfs_(won't_work)" href="#[🧩]_B.1_Optional:_btrfs_(won't_work)" class=zola-anchor>#</a>[🧩] B.1 Optional: btrfs (won't work)</h3><pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">df</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>i</span></span>
</span></code></pre><pre class=z-code><code><span class="z-text z-plain">Filesystem       Inodes  IUsed    IFree IUse% Mounted on
</span><span class="z-text z-plain">devtmpfs        3987643    837  3986806    1% /dev
</span><span class="z-text z-plain">tmpfs           3990104    389  3989715    1% /dev/shm
</span><span class="z-text z-plain">tmpfs           3990104   2756  3987348    1% /run
</span><span class="z-text z-plain">/dev/dm-1             0      0        0     - /
</span><span class="z-text z-plain">efivarfs              0      0        0     - /sys/firmware/efi/efivars
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/systemd-journald.service
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/systemd-tmpfiles-setup-dev-early.service
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/systemd-tmpfiles-setup-dev.service
</span><span class="z-text z-plain">tmpfs           3990104     33  3990071    1% /run/wrappers
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/systemd-vconsole-setup.service
</span><span class="z-text z-plain">/dev/nvme0n1p3        0      0        0     - /boot
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/systemd-tmpfiles-setup.service
</span><span class="z-text z-plain">/dev/sda4      30531584  15188 30516396    1% /mnt/ssd
</span><span class="z-text z-plain">/dev/sdb3      58097664 760335 57337329    2% /mnt/hdd
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/systemd-sysctl.service
</span><span class="z-text z-plain">tmpfs            798020    278   797742    1% /run/user/1000
</span><span class="z-text z-plain">tmpfs              1024      1     1023    1% /run/credentials/getty@tty2.service
</span></code></pre><p class=notice_danger>❌ df -i can't read the inode consumption of my btrfs root partition, resulting in an output of <code>0/0/0/-</code>.<h2 id=C_Choosing_the_correct_inode_measurement_tool_depending_on_the_filesystem_format><a aria-label="Anchor link for: C_Choosing_the_correct_inode_measurement_tool_depending_on_the_filesystem_format" class=zola-anchor href=#C_Choosing_the_correct_inode_measurement_tool_depending_on_the_filesystem_format>#</a>C Choosing the correct inode measurement tool depending on the filesystem format</h2><p>As demonstrated right above, every partition format uses its own technique to preserve or balance a contingent of inodes. Inodes are responsible for storing file-related metadata, like systemlinks, timestamps, ownership, access rights and so on.<h3 id=[🧩]_C.1_Optional:_btrfs><a aria-label="Anchor link for: [🧩]_C.1_Optional:_btrfs" class=zola-anchor href=#[🧩]_C.1_Optional:_btrfs>#</a>[🧩] C.1 Optional: btrfs</h3><pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> btrfs filesystem usage /</span>
</span></code></pre><pre class=z-code><code><span class="z-text z-plain">Overall:
</span><span class="z-text z-plain">Device size:         456.52GiB
</span><span class="z-text z-plain">Device allocated:    456.52GiB
</span><span class="z-text z-plain">Device unallocated:    1.01MiB
</span><span class="z-text z-plain">Device missing:        0.00B
</span><span class="z-text z-plain">Device slack:          1.50KiB
</span><span class="z-text z-plain">Used:                265.34GiB
</span><span class="z-text z-plain">Free (estimated):    184.69GiB	(min: 184.69GiB)
</span><span class="z-text z-plain">Free (statfs, df):   184.69GiB
</span><span class="z-text z-plain">Data ratio:            1.00
</span><span class="z-text z-plain">Metadata ratio:        2.00
</span><span class="z-text z-plain">Global reserve:      475.66MiB	(used: 0.00B)
</span><span class="z-text z-plain">Multiple profiles:		  no
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">Data,single: Size:440.50GiB, Used:255.81GiB (58.07%)
</span><span class="z-text z-plain">/dev/mapper/luks-4b890b26-f927-468e-9ce2-ead3d942224f	 440.50GiB
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">Metadata,DUP: Size:8.00GiB, Used:4.76GiB (59.56%)
</span><span class="z-text z-plain">/dev/mapper/luks-4b890b26-f927-468e-9ce2-ead3d942224f	  16.00GiB
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">System,DUP: Size:8.00MiB, Used:64.00KiB (0.78%)
</span><span class="z-text z-plain">/dev/mapper/luks-4b890b26-f927-468e-9ce2-ead3d942224f	  16.00MiB
</span></code></pre><p class=notice_success>✅ Actually i must have enough space for inode allocation left. On this <code>btrfs</code> partition, only <strong>59.46%</strong> of the preserved space for Metadata/DUP was consumed. This is no surprise, because i already have fixed this. But if you actually don't have any space left, please continue <a href>here</a> to call the garbage collector and consider also to perform a btrfs scrub.<p>Let's focus on this part of the previous output:<pre class=z-code><code><span class="z-text z-plain">Metadata,DUP: Size:8.00GiB, Used:4.76GiB (59.56%)
</span><span class="z-text z-plain">/dev/mapper/luks-4b890b26-f927-468e-9ce2-ead3d942224f	  16.00GiB
</span></code></pre><p>The reserved space for metadata equals 16.00<abbr title="A gibibyte is a more technical unit of memory size than a gigabyte. Gibibytes are based on powers of two, which fit perfectly with binary processing.">GiB</abbr> of total disk space but de-facto only 8.00GiB are allocatable for metadata or inodes. These 8.00GiB are mirrored to maximize file consistency. There should always be a backup, just in case. I guess <strong>DUP</strong> simply means <em>duplicate</em>.<h3 id=[🧩]_C.2_Optional:_ext4><a aria-label="Anchor link for: [🧩]_C.2_Optional:_ext4" class=zola-anchor href=#[🧩]_C.2_Optional:_ext4>#</a>[🧩] C.2 Optional: ext4</h3><p>My root partition on my Fedora system is formatted with ext4. I'm providing <code>df -i</code> for a comparison:<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">df</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>i</span></span>
</span></code></pre><pre class=z-code><code><span class="z-text z-plain">Filesystem       Inodes  IUsed    IFree   IUse% Mounted on
</span><span class="z-text z-plain">/dev/dm-0       6291456  1145703  5145753   19% /
</span><span class="z-text z-plain">devtmpfs        4340946      762  4340184    1% /dev
</span><span class="z-text z-plain">tmpfs           4349497        5  4349492    1% /dev/shm
</span><span class="z-text z-plain">efivarfs              0        0        0     - /sys/firmware/efi/efivars
</span><span class="z-text z-plain">tmpfs            819200     1561   817639    1% /run
</span><span class="z-text z-plain">tmpfs              1024        1     1023    1% /run/credentials/systemd-cryptsetup@luks\x2d36ad2af2\x2d58af\x2d583e\x2d827a\x2d47ae94d8f3db.service
</span><span class="z-text z-plain">tmpfs              1024        2     1022    1% /run/credentials/systemd-journald.service
</span><span class="z-text z-plain">/dev/nvme0n1p7   137632      107   137525    1% /boot
</span><span class="z-text z-plain">tmpfs           1048576       67  1048509    1% /tmp
</span><span class="z-text z-plain">/dev/nvme0n1p8        0        0        0     - /boot/efi
</span><span class="z-text z-plain">tmpfs              1024        2     1022    1% /run/credentials/systemd-resolved.service
</span><span class="z-text z-plain">tmpfs            869899      697   869202    1% /run/user/1000
</span><span class="z-text z-plain">tmpfs              1024        2     1022    1% /run/credentials/getty@tty3.service
</span></code></pre><p class=notice_success>✅ <code>df -i</code> is able to read and process inode statistics of ext4 partitions<h3 id=[🧩]_C.3_Optional:_xfs><a aria-label="Anchor link for: [🧩]_C.3_Optional:_xfs" class=zola-anchor href=#[🧩]_C.3_Optional:_xfs>#</a>[🧩] C.3 Optional: xfs</h3><p>Also for comparison reasons i called for <code>df -i</code> statistics from my MX Linux machine with a xfs formated root partition.<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">df</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>i</span></span>
</span></code></pre><pre class=z-code><code><span class="z-text z-plain">Filesystem       Inodes  IUsed    IFree IUse% Mounted on
</span><span class="z-text z-plain">udev             116689    439   116250    1% /dev
</span><span class="z-text z-plain">tmpfs            126496    645   125851    1% /run
</span><span class="z-text z-plain">/dev/dm-0      14343680 417977 13925703    3% /
</span><span class="z-text z-plain">tmpfs            126496      3   126493    1% /run/lock
</span><span class="z-text z-plain">tmpfs            126496      4   126492    1% /dev/shm
</span><span class="z-text z-plain">/dev/sda1             0      0        0     - /boot
</span><span class="z-text z-plain">cgroup           126496      4   126492    1% /sys/fs/cgroup
</span><span class="z-text z-plain">tmpfs            126496     36   126460    1% /run/user/1000
</span></code></pre><p class=notice_success>✅ <code>df -i</code> is also able to read and process inode statistics of xfs partitions<h2 id=D_Comparison_of_btrfs,_ext4_and_xfs><a aria-label="Anchor link for: D_Comparison_of_btrfs,_ext4_and_xfs" class=zola-anchor href=#D_Comparison_of_btrfs,_ext4_and_xfs>#</a>D Comparison of btrfs, ext4 and xfs</h2><p class=notice_info>Depending on your partition type you must find the correct tool to gather the wanted information about actual inode consumption.<br>E.g. for btrfs i would go for the <a href=/posts/checking_inodes/#[%F0%9F%A7%A9]_C.1_Optional:_btrfs>btrfs usage tool</a> and then check the metadata paragraph.<br><br>For at least <code>ext4</code> and <code>xfs</code> filesystems will <code>df -i</code> do the trick</p><br><nav class=pagination><a class=pagination_pager href=/posts/degarbage_nixos/>prev</a><a class=pagination_pager href=/posts/nixos-garbage-collector/>next</a></nav></div><section class=footer-content><footer id=footer-block><nav class=nav-footer role=navigation><ul aria-label="footer links" class=footer-links><li><a href=/>index</a><li><a href=/sitemap.xml>sitemap</a><li><a href=/posts/>posts</a></ul></nav><p>98fbd23 <b>©</b> 2025 Prismatic Arbiter<p>Powered by <a href=https://www.getzola.org target=_blank>Zola</a> & <a href=https://halve-z.netlify.app target=_blank>Halve-Z</a></footer></section></div><div class=toastBox></div><span id=precache-payload>/sw-load.js?v=e5ae5a1ed170f4499ac6292e7164b68528c51f6d6518cd75a49e6a6b737831d5728da21fc14dcbc7a91328e53858c6ff7195cc3fc8b25f0feeaef2af151d6686 /fireball.gif?v=569e393374f2af74d6c575090904aaf51e641e5eb5ea89ae7c7de01f7293abc165b3a7e8685690a8b951c778603fec98ae6822ff2f7ea86a536776966cb65d5d /favicon.ico?v=1a6495bbd14c74c75aa77e28420ce82a63372b28cd38c952b98403d8d112a9f76589bea299982ca27048215e661245f9d07294bddee7da377aaee76eee70c622 /favicon-16x16.png?v=7267c6f502a03c1e4df9d8136dcc6cd9e67e0b9644941d22ed34e4fe747580f95a65f77a183bb967c1ec60eecd0c298b2670d89a67a647391fb7d1501bcf0982 /favicon-32x32.png?v=5e23bffe691055b88067cbc8d11b96ce2a8dc5e25e49367803766a3cadbcfc7f05a62079bfa558d5e234c6a7455d21fc2960b196bda5cbd591bd4c2dbe67920d /icon-192x192.png?v=3820c1b1e6d755d2b7c2a04a65f0f1feef793b297f7ee995947137ccd8f73ec304457f6ce1df987a9a0a13ed7dacd203225505b832ccd2318b530ae53a55cebc /icon-512x512.png?v=de62ae905479fd813300d286ed1d2fe6bb6f6292623a5d918691642f6dd09a68943c69ed2a95a1820076919e69ff4fda668bb79e610ebc1d3200fedd7f634443 /apple-touch-icon.png?v=4718a090c66653794b3622234784e821a504ee526b6518f20cd10f6b27907566690892339830ede2ef9cb5fedb8a9796f02fb2610de868500c0720c1083013b7 /main.css?v=035c4865d1f515169c8b36da92e079b9ae74ddf1a6f1fd6cb0932ea02e0fd6fc10617741af8c5420ea1729e16cb81d6e2329758911eeab993c07235f0c3340ac /nerd-fonts.css?v=4b2ec75c55a664da78189dc20d4017cf5bc817cf3b60218a2446ba269ca4fd42c117352d5276363965f35fae32891efce751e0626b5281bae627f40d804a5679 /unstyle.css?v=b14bd48a2efbd463d973763aa3184c69aa02164c0891acacc9eab49ddd275f98f0050b4c31d2093e4671e7abe04f9459a041f0064384a90d97b8ff21b6824825 /langs.css?v=12474958ee314a9fde4704e1f5a032dc632d41f9461faca326ac284297766c4ceb07b45fec7fbc09fa72b0f21dcc64f0c31e64fc2e5e838b1d30f5fe540afd78 /syntax-theme-light.css?v=cd0c50d55d1963aecfc6f7e98bd1f1add862f0acf7dcc54e3df250d25b2a00cc889155817be05ede71357dbdea9aa7ffd9bfba216da84fea092119d58a460936 /syntax-theme-dark.css?v=dfede4879841e4a58e5fc71115aa5f5b82e206d85eb771ff4e5a40a1d82621570aad2458f637365ae4370d9a1cf5070edc9765f7c2d4506e12e2ba3c6081ffd5 /sw-style.css?v=a0fa1e87fa2bb3e03d18cefc81ef5c8cfa58c6aa6eea0af223fa155e088bc5af22d32d3ee785ebd3fc26b4c49b70f0bd423f7d592a419a24e6d1e2cb720b7e05 /categories/ /categories/NixOS/ /categories/hardware/ /tags/ /tags/DIY/ /tags/Linux/ /tags/Migration/ /tags/NixOS/ /tags/Partition Types/ /tags/configuration.nix/ /tags/hacks/ /tags/linux/ /tags/notebooks/ /posts/nixos-garbage-collector/ /posts/nixos-garbage-collector/urban.gif?v=8739ae0f6bd312a256096887df821ac340473f1e7f82bf7dad03f42e7482df11d999510c0d5f914e1d7803ee98ab1243141857e2c9664e0eb33cffc4dce89788 /posts/checking_inodes/ /posts/checking_inodes/urban.gif?v=8739ae0f6bd312a256096887df821ac340473f1e7f82bf7dad03f42e7482df11d999510c0d5f914e1d7803ee98ab1243141857e2c9664e0eb33cffc4dce89788 /posts/degarbage_nixos/ /posts/degarbage_nixos/urban.gif?v=8739ae0f6bd312a256096887df821ac340473f1e7f82bf7dad03f42e7482df11d999510c0d5f914e1d7803ee98ab1243141857e2c9664e0eb33cffc4dce89788 /posts/unleash_ram/ /posts/unleash_ram/urban.gif?v=8739ae0f6bd312a256096887df821ac340473f1e7f82bf7dad03f42e7482df11d999510c0d5f914e1d7803ee98ab1243141857e2c9664e0eb33cffc4dce89788 /posts/unleash_ram/vendor.png?v=198e6e02ed33103c0f6866c5b39c1e75cfa05c7db1f7813ba26a027ab2fd29608d324873462c53a6255f86d6968e7e435873fe36ddaf5ed2df2bd5a636999ef1 /projects/ /posts/ c1tyh4ll.png?v=e6bb8cdead47e48c0deba1e0a3016070984b5f7271166a72638f9ec5a6ef2d2eb8012e8e4cb64f4f3b6574c6d708bf2ae660d04b8b59a6de675ce4d4d62dd4c3 bk-prk.png?v=b00246fb5faeab35a588f347224b00d53083a9d5f4ae8cd87c0c2e0432bf7f348c6a6ab6f4e4edaf5ddbf13ee34b24946dd0af4cd7db6f4f334599f38917ac9e bk-prk.png?v=b00246fb5faeab35a588f347224b00d53083a9d5f4ae8cd87c0c2e0432bf7f348c6a6ab6f4e4edaf5ddbf13ee34b24946dd0af4cd7db6f4f334599f38917ac9e /icon-192x192.png?v=3820c1b1e6d755d2b7c2a04a65f0f1feef793b297f7ee995947137ccd8f73ec304457f6ce1df987a9a0a13ed7dacd203225505b832ccd2318b530ae53a55cebc /glitch.css?v=0b9b7f8691385df5b832251e9cf4c56d68cbcfc98c6e4c27e015f6fb29d2f0c18c358c98c0e7e0a1da9f263d6b355b811e49aac099b70889090912a5040f754a /sitemap.xml /search_index.en.json /search.js /elasticlunr.min.js?v=b9be63b71422cbfde9f14310b397d9a7092f2946bffec11811a831398ace978c1c592e9a578f1fa32041e6c0dde68657fe58d3c30b0eaa758c63c5fd45117336"></span><script integrity="sha512-5a5aHtFw9EmaxikucWS2hSjFH21lGM11pJ5qa3N4MdVyjaIfwU3Lx6kTKOU4WMb/cZXMP8iyXw/urvKvFR1mhg==" src="/sw-load.js?v=e5ae5a1ed170f4499ac6292e7164b68528c51f6d6518cd75a49e6a6b737831d5728da21fc14dcbc7a91328e53858c6ff7195cc3fc8b25f0feeaef2af151d6686" type=module></script>